{"version":3,"sources":["src/time_slider.js"],"names":["width","height","circumference_r","drag","d3","subject","d","on","dragstarted","dragged","dragended","svg","select","append","attr","container","circumference","handle","x","y","handle_circle","selectAll","data","enter","call","event","sourceEvent","stopPropagation","classed","d_from_origin","Math","sqrt","pow","alpha","acos","cos","sin"],"mappings":"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","file":"time_slider.915735bb.js","sourceRoot":"..","sourcesContent":["var width = 960,\n    height = 500;\n\nvar circumference_r = 100;\n\nvar drag = d3.drag()\n  .subject(function(d) { return d; })\n  .on(\"start\", dragstarted)\n  .on(\"drag\", dragged)\n  .on(\"end\", dragended);\n\nvar svg = d3.select(\"#slider\").append(\"svg\")\n  .attr(\"width\", width)\n  .attr(\"height\", height)\n  .append(\"g\")\n    .attr(\"transform\", \"translate(\" + width/2 + \",\" + height/2 + \")\");\n\nvar container = svg.append(\"g\");\n\nvar circumference = container.append('circle')\n  .attr('r', circumference_r)\n  .attr('class', 'circumference');\n\nhandle = [{\n  x: 0,\n  y: -circumference_r\n}];\n\nhandle_circle = container.append(\"g\")\n  .attr(\"class\", \"dot\")\n    .selectAll('circle')\n  .data(handle)\n    .enter().append(\"circle\")\n  .attr(\"r\", 5)\n  .attr(\"cx\", function(d) { return d.x;})\n  .attr(\"cy\", function(d) { return d.y;})\n  .call(drag);\n\nfunction dragstarted(d) {\n  d3.event.sourceEvent.stopPropagation();\n  d3.select(this)\n    .classed(\"dragging\", true);\n}\n\nfunction dragged(d) {  \n  d_from_origin = Math.sqrt(Math.pow(d3.event.x,2)+Math.pow(d3.event.y,2));\n  \n  alpha = Math.acos(d3.event.x/d_from_origin);\n  \n  d3.select(this)\n    .attr(\"cx\", d.x = circumference_r*Math.cos(alpha))\n    .attr(\"cy\", d.y = d3.event.y < 0 ? -circumference_r*Math.sin(alpha) : circumference_r*Math.sin(alpha));\n}\n\nfunction dragended(d) {\n  d3.select(this)\n    .classed(\"dragging\", false);\n}\n"]}